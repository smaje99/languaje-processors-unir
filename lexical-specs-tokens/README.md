# Lexical Analyzer Workshop

A comprehensive lexical analyzer (lexer) built with JFlex and Java Swing. This project tokenizes source code and provides a graphical interface for visualization and analysis.

## 📋 Table of Contents

- [Features](#features)
- [Prerequisites](#prerequisites)
- [Project Structure](#project-structure)
- [Installation](#installation)
- [Running the Application](#running-the-application)
- [Running Tests](#running-tests)
- [Configuring the Lexer](#configuring-the-lexer)
- [Supported Tokens](#supported-tokens)
- [Usage Examples](#usage-examples)

## ✨ Features

- **Lexical Analysis**: Tokenizes source code into meaningful tokens
- **Graphical Interface**: Interactive GUI with input/output panels
- **Statistics**: Real-time token distribution and error reporting
- **Reserved Words**: Recognizes keywords like `if`, `while`, `print`, etc.
- **Operators**: Supports arithmetic, relational, and assignment operators
- **Comments**: Handles single-line (`//`) and block (`/* */`) comments
- **Error Detection**: Identifies and reports unrecognized characters

## 🔧 Prerequisites

- **Java JDK**: 17 or higher
- **Maven**: 3.6 or higher
- **JFlex**: 1.8.2 (included as Maven dependency)

## 📁 Project Structure

```
lexical-specs-tokens/
├── src/
│   └── main/
│   |   └── java/
│   |   |   └── com/
│   |   |       └── workshop/
│   |   |           └── lexical/
│   |   |               ├── GeneratedLexer.java   # Generated by JFlex
│   |   |               ├── Token.java            # Token record
│   |   |               ├── TokenConstants.java   # Token type definitions
│   |   |               ├── LexerController.java  # Business logic
│   |   |               ├── LexerGUI.java         # Graphical interface
│   |   |               └── App.java              # Application
|   |   └── jflex/
|   |       └── lexer.flex  # JFlex specification
|   └── test/
|       └── java/
│           └── com/
│               └── workshop/
│                   └── lexical/
|                       ├── AppTest.java    # App test
|                       └── LexerTest.java  # Lexer test cases
├── pom.xml
└── README.md
```

## 🚀 Installation

1. **Clone the repository** (or navigate to your project directory):
   ```bash
   cd lexical-specs-tokens
   ```

2. **Generate the lexer** from the JFlex specification:
   ```bash
   mvn jflex:generate
   ```

3. **Compile the project**:
   ```bash
   mvn clean compile
   ```

## ▶️ Running the Application

Launch the interactive lexer interface:

```bash
mvn exec:java -Dexec.mainClass="com.workshop.lexical.App"
```

**GUI Features:**
- **Input Panel**: Enter or paste source code
- **Output Panel**: View tokenized results
- **Statistics Panel**: See token distribution and error count
- **Buttons**:
  - `Analyze (Lexer)`: Process the input
  - `Clear`: Reset all panels
  - `Load Sample`: Load example code

## 🧪 Running Tests

Execute all unit tests:

```bash
mvn test
```

Run tests with detailed output:

```bash
mvn test -X
```

Run specific test class:

```bash
mvn test -Dtest=LexerTest
```

## ⚙️ Configuring the Lexer

### Modifying the Lexer Specification

The lexer is defined in `lexer.flex`. To customize it:

1. **Edit the file**: `src/main/jflex/lexer.flex`

2. **Add new tokens**:
   ```java
   // In the rules section (after the second %%)
   "new_operator"  { return makeToken(TokenConstants.NEW_OPERATOR); }
   ```

3. **Add reserved words**:
   ```java
   // In the %{ ... %} section
   RESERVED_MAP.put("for", TokenConstants.RESERVED);
   RESERVED_MAP.put("return", TokenConstants.RESERVED);
   ```

4. **Define new patterns**:
   ```java
   // In the macro definitions section
   HEX_NUMBER = 0[xX][0-9a-fA-F]+

   // In the rules section
   {HEX_NUMBER}  { return makeToken(TokenConstants.NUMBER); }
   ```

5. **Regenerate the lexer**:
   ```bash
   mvn jflex:generate
   ```

6. **Update TokenConstants.java**:
   ```java
   public enum TokenConstants {
        NEW_OPERATOR
    }
   ```

7. **Recompile**:
   ```bash
   mvn clean compile
   ```

### Adding New Token Types

1. Open `TokenConstants.java`
2. Add new constant:
   ```java
    public enum TokenConstants {
        YOUR_TOKEN
    }
   ```
3. Update the lexer specification to recognize it
4. Regenerate and recompile

## 🏷️ Supported Tokens

### Reserved Words
- `if`, `then`, `else`
- `while`, `do`
- `int`, `print`

### Operators

**Arithmetic:**
- `+` (PLUS)
- `-` (MINUS)
- `*` (MULTIPLY)
- `/` (DIVIDE)

**Relational:**
- `==` (EQUALS)
- `!=` (NOT_EQUALS)
- `<` (LESS_THAN)
- `>` (GREATER_THAN)
- `<=` (LESS_EQUAL)
- `>=` (GREATER_EQUAL)

**Assignment:**
- `=` (ASSIGN)
- `:=` (ASSIGN)

### Delimiters
- `(` `)` - Parentheses (LPAREN, RPAREN)
- `{` `}` - Braces (LBRACE, RBRACE)
- `;` - Semicolon (SEMICOLON)

### Literals
- **Numbers**: Integer and floating-point (NUMBER)
- **Identifiers**: Variable names (IDENTIFIER)

### Comments
- **Single-line**: `// comment`
- **Block**: `/* comment */`

## 📝 Usage Examples

### Example 1: Basic Analysis

Input:
```java
int x = 10;
if (x > 0) {
    print(x);
}
```

Output:
```
Token[type=RESERVED, lexeme='int', line=1, col=1]
Token[type=IDENTIFIER, lexeme='x', line=1, col=5]
Token[type=ASSIGN, lexeme='=', line=1, col=7]
Token[type=NUMBER, lexeme='10', line=1, col=9]
Token[type=SEMICOLON, lexeme=';', line=1, col=11]
...
```

### Example 2: With Comments

Input:
```java
// Calculate sum
int sum = 0;
/* Loop through values */
while (sum < 100) {
    sum = sum + 1;
}
```

Comments are ignored; only meaningful tokens are produced.

### Example 3: Error Detection

Input:
```java
int x = 10 @ y;
```

The `@` character will be reported as:
```
Token[type=ERROR, lexeme='@', line=1, col=12]
```

## 🔍 Troubleshooting

### Issue: "GeneratedLexer.java not found"

**Solution**: Run JFlex to generate the lexer:
```bash
mvn jflex:generate
```

### Issue: Compilation errors after modifying lexer.flex

**Solution**:
1. Ensure all token types are defined in `TokenConstants.java`
2. Regenerate the lexer
3. Clean and recompile: `mvn clean compile`

### Issue: GUI doesn't show statistics

**Solution**: Ensure all token constants are properly initialized and the lexer generated successfully.

## 📚 Additional Resources

- [JFlex Manual](https://jflex.de/manual.html)
- [Maven Exec Plugin](https://www.mojohaus.org/exec-maven-plugin/)
- [Java Swing Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/)

## 📄 License

This project is created for educational purposes as part of a compiler design workshop.

---

**Note**: Always regenerate the lexer after modifying `lexer.flex` and recompile the project before running.

**Note**: This project is heavily based on the following tutorial: [Creando un analizador léxico con JFlex, Maven y Java 17 - Víctor Orozco](https://www.youtube.com/watch?v=R6znBEekUVA)